(function(){"use strict";function b(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function v(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function x(t,i,e){return i&&v(t.prototype,i),e&&v(t,e),t}let h=function(){function t(i){b(this,t),Object.defineProperty(this,"seeder",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.seeder=this.xmur3(i)}return x(t,[{key:"random",value:function(i=0,e=1){if(i>e)throw new Error("The minimum value must be below the maximum value");if(i===e)throw new Error("The minimum value cannot equal the maximum value");return this.denormalize(this.sfc32(),i,e)}},{key:"randomInt",value:function(i=0,e=1){return Math.round(this.random(i,e))}},{key:"denormalize",value:function(i,e,n){return i*(n-e)+e}},{key:"xmur3",value:function(i){let e=1779033703^i.length;for(let n=0;n<i.length;n++)e=Math.imul(e^i.charCodeAt(n),3432918353),e=e<<13|e>>>19;return function(){return e=Math.imul(e^e>>>16,2246822507),e=Math.imul(e^e>>>13,3266489909),(e^=e>>>16)>>>0}}},{key:"sfc32",value:function(){let i=this.seeder(),e=this.seeder(),n=this.seeder(),r=this.seeder();i>>>=0,e>>>=0,n>>>=0,r>>>=0;let a=i+e|0;return i=e^e>>>9,e=n+(n<<3)|0,n=n<<21|n>>>11,r=r+1|0,a=a+r|0,n=n+a|0,(a>>>0)/4294967296}}]),t}();function A(t){return/^\p{L}/u.test(t)}function P(t){return t===t.toUpperCase()}function _(t){let i=0,e=0;for(const n of t)A(n)&&(P(n)&&e++,i++);return e/i}function w(){return function(t,i){let e=t[i],n=0;Object.defineProperty(t,i,{get:function(){return e},set:function(r){if(typeof r=="object"&&(n=Object.values(r).reduce(function(a,o){return a+o})),r<0||n<0||r>1||n>1)throw new Error(`${i} modifier value must be a number between 0 and 1`);e=r},enumerable:!0,configurable:!0})}}function M(t){if(!t||/[^a-z0-9\:\/\?\#\[\]\@\!\$\&\'\(\)\*\+\,\;\=\.\-\_\~\%]/i.test(t)||/%[^0-9a-f]/i.test(t)||/%[0-9a-f](:?[^0-9a-f]|$)/i.test(t))return!1;const i=t.match(/(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/);if(!i)return!1;const[,e,n,r]=i;if(!(e&&e.length&&r.length>=0))return!1;if(n&&n.length){if(!(r.length===0||/^\//.test(r)))return!1}else if(/^\/\//.test(r))return!1;return!!/^[a-z][a-z0-9\+\-\.]*$/.test(e.toLowerCase())}function C(t){return t.charAt(0)==="@"}var g=function(t,i,e,n){var r=arguments.length,a=r<3?i:n===null?n=Object.getOwnPropertyDescriptor(i,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,i,e,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(i,e,a):o(i,e))||a);return r>3&&a&&Object.defineProperty(i,e,a),a};const c={SPACES:{faces:.05,actions:.075,stutters:.1},WORDS:1,EXCLAMATIONS:1};let l=function(){function t({spaces:i=c.SPACES,words:e=c.WORDS,exclamations:n=c.EXCLAMATIONS}={spaces:c.SPACES,words:c.WORDS,exclamations:c.EXCLAMATIONS}){b(this,t),Object.defineProperty(this,"faces",{enumerable:!0,configurable:!0,writable:!0,value:["(\u30FB`\u03C9\xB4\u30FB)",";;w;;","OwO","UwU",">w<","^w^","\xDAw\xDA","^-^",":3","x3",";3",":3c"]}),Object.defineProperty(this,"exclamations",{enumerable:!0,configurable:!0,writable:!0,value:["!?","?!!","?!?1","!!11","?!?!"]}),Object.defineProperty(this,"actions",{enumerable:!0,configurable:!0,writable:!0,value:["*blushes*","*whispers to self*","*cries*","*screams*","*sweats*","*twerks*","*runs away*","*screeches*","*walks away*","*looks at you*","*starts twerking*","*huggles tightly*","*boops your nose*"]}),Object.defineProperty(this,"uwuMap",{enumerable:!0,configurable:!0,writable:!0,value:[[/(?:r|l)/g,"w"],[/(?:R|L)/g,"W"],[/n([aeiou])/g,"ny$1"],[/N([aeiou])/g,"Ny$1"],[/N([AEIOU])/g,"Ny$1"],[/ove/g,"uv"]]}),Object.defineProperty(this,"_spacesModifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_wordsModifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_exclamationsModifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._spacesModifier=i??c.SPACES,this._wordsModifier=e??c.WORDS,this._exclamationsModifier=n??c.EXCLAMATIONS}return x(t,[{key:"uwuifyWords",value:function(i){var e=this;return i.split(" ").map(function(n){if(C(n)||M(n))return n;const r=new h(n);for(const[a,o]of e.uwuMap)r.random()>e._wordsModifier||(n=n.replace(a,o));return n}).join(" ")}},{key:"uwuifySpaces",value:function(i){var e=this;const n=i.split(" "),r=this._spacesModifier.faces,a=this._spacesModifier.actions+r,o=this._spacesModifier.stutters+a;return n.map(function(s,O){const m=new h(s),y=m.random(),[f]=s;if(y<=r&&e.faces)s+=" "+e.faces[m.randomInt(0,e.faces.length-1)],S();else if(y<=a&&e.actions)s+=" "+e.actions[m.randomInt(0,e.actions.length-1)],S();else if(y<=o&&!M(s)){const p=m.randomInt(0,2);return(f+"-").repeat(p)+s}function S(){if(f===f.toUpperCase()&&!(_(s)>.5))if(O===0)s=f.toLowerCase()+s.slice(1);else{const p=n[O-1],D=p[p.length-1];if(!new RegExp("[.!?\\-]").test(D))return;s=f.toLowerCase()+s.slice(1)}}return s}).join(" ")}},{key:"uwuifyExclamations",value:function(i){var e=this;const n=i.split(" "),r=new RegExp("[?!]+$");return n.map(function(a){const o=new h(a);return!r.test(a)||o.random()>e._exclamationsModifier||(a=a.replace(r,""),a+=e.exclamations[o.randomInt(0,e.exclamations.length-1)]),a}).join(" ")}},{key:"uwuifySentence",value:function(i){let e=i;return e=this.uwuifyWords(e),e=this.uwuifyExclamations(e),e=this.uwuifySpaces(e),e}}]),t}();g([w()],l.prototype,"_spacesModifier",void 0),g([w()],l.prototype,"_wordsModifier",void 0),g([w()],l.prototype,"_exclamationsModifier",void 0);const{React:d,ReactNative:j}=vendetta.metro.common,{plugin:{storage:u},storage:{useProxy:k},ui:{components:{Forms:N}}}=vendetta,{FormRow:R,FormSection:L,FormSwitch:I}=N,U=vendetta.metro.findByProps("ButtonColors","ButtonLooks","ButtonSizes").default;function T(t,{patches:i,reloadUwuifier:e,startMessageTransfoworming:n}){return k(u),d.createElement(j.ScrollView,{style:{flex:1}},[{label:"faces",default:!0,id:"cfg.spaces.faces"},{label:"actions",default:!0,id:"cfg.spaces.actions"},{label:"stutters",default:!0,id:"cfg.spaces.stutters"},{label:"words",default:!0,id:"cfg.words"},{label:"exclamations",default:!1,id:"cfg.exclamations"},{label:"Strength sliders will come when i figure out how to make em"},{id:"reload",style:{height:5,margin:8},name:"Reload uwuifier",onPress:function(){e(u),vendetta.ui.toasts.showToast("Reloaded uwuifier",vendetta.ui.assets.getAssetIDByName("check"))}}].map(function(r){return r?.id==="reload"?d.createElement(U,{style:r.style,text:r.name??"Unnamed",color:"brand",size:"small",disabled:!1,onPress:r.onPress??function(){}}):("id"in r&&!(r.id in u)&&(u[r.id]=r.default),d.createElement(R,{label:r?.label??r?.id??"no name",trailing:"id"in r?d.createElement(I,{value:u[r.id]??r.default,onValueChange:function(a){u[r.id]=a,cfg?.onValueChange?.(a)}}):void 0}))}))}function $(t,i,e){if(!t?.name||!t?.description)throw new Error(`No name(${t?.name}) or description(${t?.description}) in the passed command (command name: ${t?.name})`);if(t.displayName??=i?.names?.[e]??t.name,t.displayDescription??=i?.names?.[e]??t.description,t.options){if(!Array.isArray(t.options))throw new Error(`Options is not an array (received: ${typeof t.options})`);for(var n=0;n<t.options.length;n++){const a=t.options[n];if(!a?.name||!a?.description)throw new Error(`No name(${a?.name}) or description(${a?.description} in the option with index ${n}`);if(a.displayName??=i?.options?.[n]?.names?.[e]??a.name,a.displayDescription??=i?.options?.[n]?.descriptions?.[e]??a.description,a?.choices){if(!Array.isArray(a?.choices))throw new Error(`Choices is not an array (received: ${typeof a.choices})`);for(var r=0;r<a.choices.length;r++){const o=a.choices[r];if(!o?.name)throw new Error(`No name of choice with index ${r} in option with index ${n}`);o.displayName??=i?.options?.[n]?.choices?.[r]?.names?.[e]??o.name}}}}return t}let E=new l;reloadUwuifier})();
